<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

	<head>
  
	    <th:block th:replace="fragments/resources :: head-resources"></th>
	    
	    <title>Aggiungi ricetta </title>
    
  	</head>
  
  	<body class="bg-dark text-warning">
  	
	  	<header>
	  	
	 		<nav th:replace="fragments/navbar :: navbar('recipes')"></nav>
	 	
	 	</header>
	 	<main class="text-warning">
	 	
	 	
	 	<div class="container">
		<h2 class="text-warning my-3" th:text="'Aggiungi una nuova immagine per ' + ${imageForm.recipe.title}"></h2>
		<hr />
	
		
		<!-- Inizio Form (mappata su un oggetto di tipo ImageForm, non Image -->
			<form 
				id="form-img" 
				th:object="${imageForm}"
				th:action="@{/image/salva}" 
				method="POST"
				enctype="multipart/form-data"
				>
	 	<input type="hidden" th:field="*{recipe}">
	 	<div class="mb-3 d-flex">
				  <label for="contentMultipart" class="form-label"></label>
				  <input class="form-control" type="file" id="contentMultipart" th:field="*{contentMultipart}">
				  
				  </div>
				<button class="btn btn-btn btn-warning rounded-3 border border-warning justify-center mt-3" type="submit">Salva</button>
			</form>
		
		
		<!--  fine form -->
			<!--  inizio lista (model attribute imageList) -->
			<div class="row">
				<div class="col-3" th:each="img : ${imageList}">
				<img th:src="@{|/image/${img.id}/content|}" class="img-fluid pt-4" alt="">
				<a class="btn btn-warning d-block my-2" width:"100%" title="Cancella" th:href="@{|/image/delete/${img.id}|}" onclick="return confirm('Sei sicuro?') "><i class="fa-solid fa-trash-can"></i></a>
					
		    			</div>
					</div>
				</div>
			
		
	 	</main>
	 	
	 	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	 	<footer th:replace="fragments/footer :: footer"></footer>

  </body>
  
</html>